# 3D Visualization for the cool Spatial Audio thing

(Updated June 8, 2025)

This is a 3D visualization in the works that is meant to go along with the main interface for the spatial audio playground (the Boulez project)!

> **Note: there are two specific bugs that occur, but they both have workarounds:**
>
> - When clicking on the "Audio Engineer" mode, the 3D view "disappears" and the 2D view appears to be stretched and pixel-blurred. **To fix this: click the `Hide 3D View` button, and then click it again. This will toggle the 3D view, and the 3D view should then come into view, and the 2D view should be clear and un-stretched.**
> - When going from the Audio Engineer mode to the Audience mode, the 2D and 3D views are in weird places once again. **To fix this: simply click on the `Audience` button in the mode selector at the top-left corner again. This will solve the issue.**
> -

## Command to run this

`python3 -m http.server 8000`

## Below are screenshots from various different points during the coding process

### April 1

![3D visualization](2025-4-1.png "3D visualization for spatial audio environment")

### End of April

![3D visualization](End_of_April.png "3D visualization for spatial audio environment")

### End of May

##### Audio Engineer

![3D visualization](End_of_May_Audio_Engineer.png "3D visualization for spatial audio environment")

##### Audience

![3D visualization](End_of_May_Audience.png "3D visualization for spatial audio environment")

##### Performer

![3D visualization](End_of_May_Performer.png "3D visualization for spatial audio environment")

### June 8

##### Audio Engineer

![3D visualization](June_8_Audio_Engineer.png "3D visualization for spatial audio environment")

##### Audience * Performer (combined into one UI)

![3D visualization](June_8_Audience&Performer.png "3D visualization for spatial audio environment")


## TODOs:

- [ ] Add 3 modes: Audio engineer (default); Audience member with movable position; and Performer mode.
- [ ] Add Transitions 1-2 and 3-4, plus Strophe V audio scenes and timings (and navigation toggle)
    - [ ] Solutlion for accelerating circular panning for Transition 3-4.
    - [ ] Solution for cross fading dry/wet piano resonator effect for Strophe V.
- [ ] Add solution for “pop-up” trivia about the piece/composer in each section. Also housed in a browsable/searchable About the Piece section.
- [ ] Add solution for scrolling melodic contour display with mix cues with toggle to scrolling notation view.
- [ ] Add toggle for “listen” vs. “live mix” modes
- [ ] Study and reconsider thumb pad speaker navigation. What might be easier/more intuitive for the novice user.
---

Below is documentation generated by Visual Studio's Copilot
-----------------------------------------------------------

# 3D Visualization for Spatial Audio Environment

## Overview

This project creates an immersive 3D visualization system for spatial audio, allowing users to experience and interact with audio sources positioned in a virtual 3D environment. The system renders six speakers in a hexagonal arrangement around a central listener, with real-time audio routing between speakers based on predefined patterns.

## Key Components

### 3D Visualization (`3DVisualization.js`)

- Creates an immersive 3D scene with speakers, environment, and listener avatar
- Provides joystick and drag controls for rotation within the audio space
- Visualizes sound waves emanating from active speakers
- Renders a 2D top-down view with speaker activity indicators

### Audio Processing (`script.js`)

- Implements spatial audio using the Web Audio API
- Routes audio between six virtual speakers based on predefined patterns
- Synchronizes audio playback with visual elements
- Supports play/pause and reset functionality

### Audio Visualization (`AudioVisualizer.js`)

- Shows speaker activity and music phrases
- Provides timeline visualization with phrase markers
- Includes waveform visualization of the audio

## User Interaction

- Rotate the listener using joystick or drag controls
- Play/pause audio with controls
- Reset position and audio with reset button
- View active speakers in both 3D and 2D perspectives

## Technical Details

- Built with Three.js for 3D rendering
- Uses Web Audio API for spatial audio processing
- Implements HRTF panning for realistic spatial audio perception
- Responsive design with adaptations for mobile devices

## Browser Compatibility

- Optimized for Chrome and other modern browsers supporting Web Audio API
- Requires browser support for ES6 modules and three.js
